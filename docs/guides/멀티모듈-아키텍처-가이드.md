# ë©€í‹° ëª¨ë“ˆ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ

> LookMarket í”„ë¡œì íŠ¸ì˜ ë©€í‹° ëª¨ë“ˆ êµ¬ì¡° ì„¤ëª… ë° í´ë” êµ¬ë¶„ ë°©ì‹ê³¼ì˜ ë¹„êµ

---

## ğŸ“‹ ëª©ì°¨

1. [ë©€í‹° ëª¨ë“ˆì´ë€?](#ë©€í‹°-ëª¨ë“ˆì´ë€)
2. [í´ë” êµ¬ë¶„ vs ë©€í‹° ëª¨ë“ˆ](#í´ë”-êµ¬ë¶„-vs-ë©€í‹°-ëª¨ë“ˆ)
3. [í•µì‹¬ ì°¨ì´: ì˜ì¡´ì„± ì œì–´](#í•µì‹¬-ì°¨ì´-ì˜ì¡´ì„±-ì œì–´)
4. [ì™œ ë©€í‹° ëª¨ë“ˆì„ ì„ íƒí–ˆë‚˜?](#ì™œ-ë©€í‹°-ëª¨ë“ˆì„-ì„ íƒí–ˆë‚˜)
5. [ì¥ë‹¨ì  ë¹„êµ](#ì¥ë‹¨ì -ë¹„êµ)
6. [ëª¨ë“ˆ ê°„ ì—°ê²° ë°©ì‹](#ëª¨ë“ˆ-ê°„-ì—°ê²°-ë°©ì‹)
7. [ì‹¤ì œ ë™ì‘ ì˜ˆì‹œ](#ì‹¤ì œ-ë™ì‘-ì˜ˆì‹œ)
8. [ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡°](#ì‹¤ì œ-í”„ë¡œì íŠ¸-êµ¬ì¡°)
9. [ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì˜ˆì‹œ](#ë‹¤ë¥¸-í”„ë¡œì íŠ¸-ì˜ˆì‹œ)

---

## ë©€í‹° ëª¨ë“ˆì´ë€?

**ë©€í‹° ëª¨ë“ˆ(Multi Module)**ì€ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ ì„œë¸Œ í”„ë¡œì íŠ¸(ëª¨ë“ˆ)ë¡œ ë‚˜ëˆ„ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

### ì¼ë°˜ì ì¸ ì˜¤í•´

"íŒ¨í‚¤ì§€ë‚˜ í´ë”ë¡œ ê³„ì¸µì„ ë‚˜ëˆ„ëŠ” ê²ƒê³¼ ê°™ë‹¤" â†’ **âŒ ë‹¤ë¦…ë‹ˆë‹¤!**

ë©€í‹° ëª¨ë“ˆì€ ê° ëª¨ë“ˆì´ **ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸**ë¡œ, ë³„ë„ì˜ ë¹Œë“œ ì„¤ì •ê³¼ ì˜ì¡´ì„±ì„ ê°€ì§‘ë‹ˆë‹¤.

---

## í´ë” êµ¬ë¶„ vs ë©€í‹° ëª¨ë“ˆ

### ë°©ì‹ 1: ì¼ë°˜ì ì¸ í´ë”(íŒ¨í‚¤ì§€) êµ¬ë¶„ (Single Module)

```
lookmarket/
â”œâ”€â”€ build.gradle  (í•˜ë‚˜ì˜ ë¹Œë“œ íŒŒì¼)
â””â”€â”€ src/
    â””â”€â”€ main/
        â””â”€â”€ java/
            â””â”€â”€ com/
                â””â”€â”€ lookmarket/
                    â”œâ”€â”€ domain/          # ë„ë©”ì¸
                    â”œâ”€â”€ application/     # ì„œë¹„ìŠ¤
                    â”œâ”€â”€ infrastructure/  # ì¸í”„ë¼
                    â”œâ”€â”€ api/            # ì»¨íŠ¸ë¡¤ëŸ¬
                    â””â”€â”€ common/         # ìœ í‹¸ë¦¬í‹°
```

**íŠ¹ì§•**:
- âœ… í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸, í•˜ë‚˜ì˜ JAR íŒŒì¼
- âœ… ì„¤ì •ì´ ê°„ë‹¨í•¨
- âŒ ëª¨ë“  ì½”ë“œê°€ ê°™ì€ ë¹Œë“œ ì‚¬ì´í´
- âŒ íŒ¨í‚¤ì§€ë¡œë§Œ êµ¬ë¶„, **ì˜ì¡´ì„± ì œì–´ê°€ ë¶ˆê°€ëŠ¥**

**ë¬¸ì œì **:
```java
// âŒ domain íŒ¨í‚¤ì§€ì—ì„œ infrastructureë¥¼ ì§ì ‘ ì°¸ì¡° ê°€ëŠ¥ (ë‚˜ìœ ì„¤ê³„!)
package com.lookmarket.domain;

import com.lookmarket.infrastructure.JpaUserRepository; // ë§‰ì„ ìˆ˜ ì—†ìŒ!

public class User {
    public void save() {
        JpaUserRepository repo = new JpaUserRepository(); // ğŸ˜±
        repo.save(this);
    }
}
```

### ë°©ì‹ 2: ë©€í‹° ëª¨ë“ˆ (Multi Module) - í˜„ì¬ í”„ë¡œì íŠ¸

```
lookmarket/
â”œâ”€â”€ settings.gradle           # ëª¨ë“ˆ ë“±ë¡
â”œâ”€â”€ build.gradle              # ê³µí†µ ì„¤ì •
â”œâ”€â”€ lookmarket-domain/        # ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle          # domain ì „ìš© ë¹Œë“œ íŒŒì¼
â”œâ”€â”€ lookmarket-application/   # ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ lookmarket-infrastructure/# ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ lookmarket-api/          # ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸
â”‚   â””â”€â”€ build.gradle
â””â”€â”€ lookmarket-common/       # ë…ë¦½ì ì¸ Gradle í”„ë¡œì íŠ¸
    â””â”€â”€ build.gradle
```

**íŠ¹ì§•**:
- âœ… ê° ëª¨ë“ˆì´ ë…ë¦½ì ì¸ í”„ë¡œì íŠ¸
- âœ… ê° ëª¨ë“ˆë§ˆë‹¤ ë³„ë„ì˜ `build.gradle`
- âœ… **ì˜ì¡´ì„±ì„ ê°•ì œë¡œ ì œì–´ ê°€ëŠ¥**
- âœ… ê° ëª¨ë“ˆë§ˆë‹¤ ë³„ë„ì˜ JAR íŒŒì¼ ìƒì„±
- âŒ ì´ˆê¸° ì„¤ì •ì´ ë³µì¡í•¨

---

## í•µì‹¬ ì°¨ì´: ì˜ì¡´ì„± ì œì–´

### í´ë” êµ¬ë¶„ ë°©ì‹ì˜ ë¬¸ì œì 

```java
// âŒ í´ë” êµ¬ë¶„ ë°©ì‹ì—ì„œëŠ” ì´ëŸ° ë‚˜ìœ ì½”ë“œë¥¼ ë§‰ì„ ìˆ˜ ì—†ìŒ!

// domain íŒ¨í‚¤ì§€ì—ì„œ infrastructureë¥¼ ì§ì ‘ ì°¸ì¡° (ìœ„ë°˜!)
package com.lookmarket.domain;

import com.lookmarket.infrastructure.JpaUserRepository; // ê°€ëŠ¥í•´ë²„ë¦¼!

public class User {
    public void save() {
        JpaUserRepository repo = new JpaUserRepository(); // ğŸ˜±
        repo.save(this);
    }
}
```

**ë¬¸ì œ**: Domainì´ Infrastructureì— ì˜ì¡´í•˜ë©´ ì•ˆ ë˜ëŠ”ë°, **ì»´íŒŒì¼ íƒ€ì„ì— ë§‰ì„ ë°©ë²•ì´ ì—†ìŒ**

### ë©€í‹° ëª¨ë“ˆ ë°©ì‹ì˜ í•´ê²°

```gradle
// lookmarket-domain/build.gradle
dependencies {
    implementation project(':lookmarket-common')
    // infrastructureë¥¼ ì˜ì¡´ì„±ì— ì¶”ê°€í•˜ì§€ ì•ŠìŒ!
}
```

```java
// âŒ ì´ì œ ì´ ì½”ë“œëŠ” ì»´íŒŒì¼ ì—ëŸ¬!
package com.lookmarket.domain;

import com.lookmarket.infrastructure.JpaUserRepository;
// ì»´íŒŒì¼ ì—ëŸ¬: cannot find symbol
// class JpaUserRepository
```

**í•´ê²°**: ë¹Œë“œ ì‹œìŠ¤í…œì´ **ê°•ì œë¡œ ì˜ì¡´ì„±ì„ ì œì–´**í•˜ì—¬ ì˜ëª»ëœ ì°¸ì¡°ë¥¼ ì›ì²œ ì°¨ë‹¨

---

## ì™œ ë©€í‹° ëª¨ë“ˆì„ ì„ íƒí–ˆë‚˜?

### ì´ìœ  1: Hexagonal Architecture ê°•ì œ

**ëª©í‘œ**: Domainì´ ì™¸ë¶€(Infrastructure, API)ì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ê°•ì œ

```
ì˜ì¡´ì„± ë°©í–¥:
API â†’ Application â†’ Domain â† Infrastructure
                      â†‘
                   Common
```

**ë©€í‹° ëª¨ë“ˆ ì˜ì¡´ì„± ì„¤ì •**:

```gradle
// lookmarket-domain/build.gradle
dependencies {
    implementation project(':lookmarket-common')  // OK
    // infrastructure, apiëŠ” ì˜ì¡´ì„±ì— ì—†ìŒ â†’ ì°¸ì¡° ë¶ˆê°€ëŠ¥!
}

// lookmarket-infrastructure/build.gradle
dependencies {
    implementation project(':lookmarket-common')
    implementation project(':lookmarket-domain')  // Domainì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
}

// lookmarket-api/build.gradle
dependencies {
    implementation project(':lookmarket-common')
    implementation project(':lookmarket-domain')
    implementation project(':lookmarket-application')
    implementation project(':lookmarket-infrastructure')
}
```

**ì˜ì¡´ì„± ê·œì¹™**:
- âœ… Infrastructure â†’ Domain (OK, í¬íŠ¸ êµ¬í˜„)
- âœ… Application â†’ Domain (OK, ìœ ì¦ˆì¼€ì´ìŠ¤ ì¡°ìœ¨)
- âœ… API â†’ Application (OK, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì„œë¹„ìŠ¤ í˜¸ì¶œ)
- âŒ Domain â†’ Infrastructure (ë¶ˆê°€ëŠ¥, ì»´íŒŒì¼ ì—ëŸ¬!)
- âŒ Domain â†’ API (ë¶ˆê°€ëŠ¥, ì»´íŒŒì¼ ì—ëŸ¬!)

### ì´ìœ  2: ë¹Œë“œ ì‹œê°„ ìµœì í™”

```bash
# í´ë” êµ¬ë¶„ ë°©ì‹
./gradlew build  # ì „ì²´ë¥¼ í•­ìƒ ë‹¤ì‹œ ë¹Œë“œ (ëŠë¦¼)

# ë©€í‹° ëª¨ë“ˆ ë°©ì‹
./gradlew :lookmarket-domain:build  # domainë§Œ ë¹Œë“œ (ë¹ ë¦„)
./gradlew :lookmarket-api:build     # ë³€ê²½ëœ ëª¨ë“ˆë§Œ ë¹Œë“œ
```

**ì˜ˆì‹œ**:
- Domain ë¡œì§ë§Œ ìˆ˜ì •í–ˆì„ ë•Œ â†’ domain ëª¨ë“ˆë§Œ ì¬ë¹Œë“œ
- Controllerë§Œ ìˆ˜ì •í–ˆì„ ë•Œ â†’ api ëª¨ë“ˆë§Œ ì¬ë¹Œë“œ
- í° í”„ë¡œì íŠ¸ì—ì„œëŠ” **ë¹Œë“œ ì‹œê°„ì´ ëª‡ ë¶„ì—ì„œ ëª‡ ì´ˆë¡œ ë‹¨ì¶•**

### ì´ìœ  3: ì¬ì‚¬ìš©ì„±

```gradle
# domain ëª¨ë“ˆì„ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
dependencies {
    implementation 'com.lookmarket:lookmarket-domain:0.0.1'
}
```

**ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ**:
- LookMarket ê´€ë¦¬ì ë°±ì˜¤í”¼ìŠ¤ í”„ë¡œì íŠ¸ (ë³„ë„ í”„ë¡œì íŠ¸)
- LookMarket Batch í”„ë¡œì íŠ¸ (ë°°ì¹˜ ì‘ì—…)
- LookMarket Mobile API (ëª¨ë°”ì¼ ì „ìš© API)

â†’ ëª¨ë‘ **ë™ì¼í•œ domain ëª¨ë“ˆ ì¬ì‚¬ìš©**

### ì´ìœ  4: í…ŒìŠ¤íŠ¸ ê²©ë¦¬

```bash
# domain ë¡œì§ë§Œ ìˆœìˆ˜ í…ŒìŠ¤íŠ¸ (DB, Kafka ì—†ì´ ë¹ ë¥´ê²Œ)
./gradlew :lookmarket-domain:test

# infrastructure í†µí•© í…ŒìŠ¤íŠ¸ (Testcontainers ì‚¬ìš©)
./gradlew :lookmarket-infrastructure:test

# API E2E í…ŒìŠ¤íŠ¸
./gradlew :lookmarket-api:test
```

**ì¥ì **:
- Domain í…ŒìŠ¤íŠ¸: ì´ˆê³ ì† (DB/Kafka/Redis ì—†ì´ ìˆœìˆ˜ ë¡œì§ë§Œ)
- Infrastructure í…ŒìŠ¤íŠ¸: Testcontainersë¡œ ê²©ë¦¬
- í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì–´ëŠ ê³„ì¸µì˜ ë¬¸ì œì¸ì§€ ëª…í™•íˆ íŒŒì•…

### ì´ìœ  5: í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜

**ëŒ€ê¸°ì—… ë°±ì—”ë“œ ê°œë°œìì—ê²Œ ì–´í•„**:
- "ë©€í‹° ëª¨ë“ˆ êµ¬ì¡° ê²½í—˜" â†’ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ ê²½í—˜ìœ¼ë¡œ ì¸ì •
- "ì•„í‚¤í…ì²˜ ê°•ì œ" â†’ ì„¤ê³„ ì—­ëŸ‰ ì¦ëª…
- "ì‹¤ë¬´ ìˆ˜ì¤€ì˜ êµ¬ì¡°" â†’ ì·¨ë¯¸ í”„ë¡œì íŠ¸ì™€ ì°¨ë³„í™”

---

## ì¥ë‹¨ì  ë¹„êµ

### í´ë” êµ¬ë¶„ ë°©ì‹

**ì¥ì **:
- âœ… ì„¤ì •ì´ ê°„ë‹¨í•¨
- âœ… ì‘ì€ í”„ë¡œì íŠ¸ì— ì í•©
- âœ… í•™ìŠµ ê³¡ì„ ì´ ë‚®ìŒ
- âœ… ëª¨ë“  ì½”ë“œê°€ í•œ ê³³ì— ìˆì–´ ì°¾ê¸° ì‰¬ì›€

**ë‹¨ì **:
- âŒ ì˜ì¡´ì„± ì œì–´ ë¶ˆê°€ëŠ¥ (ê°œë°œì ê·œì¹™ì—ë§Œ ì˜ì¡´)
- âŒ ì „ì²´ë¥¼ í•­ìƒ ë‹¤ì‹œ ë¹Œë“œ
- âŒ ê³„ì¸µ ìœ„ë°˜ì„ ë§‰ì„ ë°©ë²•ì´ ì—†ìŒ
- âŒ ëª¨ë“ˆ ì¬ì‚¬ìš© ì–´ë ¤ì›€
- âŒ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ì–´ë ¤ì›€

**ì í•©í•œ ê²½ìš°**:
- ì†Œê·œëª¨ í”„ë¡œì íŠ¸ (1~2ëª…, 1~2ê°œì›”)
- í”„ë¡œí† íƒ€ì…
- í•™ìŠµìš© í† ì´ í”„ë¡œì íŠ¸

### ë©€í‹° ëª¨ë“ˆ ë°©ì‹

**ì¥ì **:
- âœ… **ì˜ì¡´ì„±ì„ ê°•ì œë¡œ ì œì–´** (ì»´íŒŒì¼ íƒ€ì„ì— ì˜ëª»ëœ ì°¸ì¡° ì°¨ë‹¨)
- âœ… ë³€ê²½ëœ ëª¨ë“ˆë§Œ ë¹Œë“œ (ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•)
- âœ… ëª¨ë“ˆ ì¬ì‚¬ìš© ê°€ëŠ¥
- âœ… ì•„í‚¤í…ì²˜ ê°•ì œ (Clean Architecture, Hexagonal ë“±)
- âœ… í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ìš©ì´
- âœ… ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ ìš©ì´

**ë‹¨ì **:
- âŒ ì´ˆê¸° ì„¤ì •ì´ ë³µì¡í•¨
- âŒ í•™ìŠµ ê³¡ì„ ì´ ë†’ìŒ
- âŒ ì‘ì€ í”„ë¡œì íŠ¸ì—ëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§
- âŒ Gradle ì„¤ì • ê´€ë¦¬ í•„ìš”
- âŒ IDE ì„¤ì • ë³µì¡í•  ìˆ˜ ìˆìŒ

**ì í•©í•œ ê²½ìš°**:
- ì¤‘ëŒ€í˜• í”„ë¡œì íŠ¸
- íŒ€ í”„ë¡œì íŠ¸ (3ëª… ì´ìƒ)
- ì¥ê¸° ìœ ì§€ë³´ìˆ˜ ì˜ˆì •
- ì•„í‚¤í…ì²˜ ê°•ì œê°€ í•„ìš”í•œ ê²½ìš°
- í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ (ê¸°ìˆ ë ¥ ì–´í•„)

---

## ëª¨ë“ˆ ê°„ ì—°ê²° ë°©ì‹

### Step 1: settings.gradleì— ëª¨ë“ˆ ë“±ë¡

```gradle
// settings.gradle
rootProject.name = 'lookmarket'

include 'lookmarket-api'
include 'lookmarket-application'
include 'lookmarket-domain'
include 'lookmarket-infrastructure'
include 'lookmarket-common'
```

**ì—­í• **: Gradleì—ê²Œ "ì´ 5ê°œ ëª¨ë“ˆì´ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì— ì†í•œë‹¤"ê³  ì•Œë¦¼

### Step 2: ê° ëª¨ë“ˆì˜ build.gradleì—ì„œ ì˜ì¡´ì„± ì„ ì–¸

```gradle
// lookmarket-api/build.gradle
dependencies {
    // ë‹¤ë¥¸ ëª¨ë“ˆì„ ì˜ì¡´ì„±ìœ¼ë¡œ ì¶”ê°€
    implementation project(':lookmarket-common')
    implementation project(':lookmarket-domain')
    implementation project(':lookmarket-application')
    implementation project(':lookmarket-infrastructure')

    // ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
    implementation 'org.springframework.boot:spring-boot-starter-web'
}
```

```gradle
// lookmarket-domain/build.gradle
dependencies {
    implementation project(':lookmarket-common')
    // infrastructure, apiëŠ” ì˜ì¡´ì„±ì— ì—†ìŒ!
}
```

```gradle
// lookmarket-infrastructure/build.gradle
dependencies {
    implementation project(':lookmarket-common')
    implementation project(':lookmarket-domain')  // Domain ì°¸ì¡° ê°€ëŠ¥

    // ì¸í”„ë¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.kafka:spring-kafka'
}
```

### Step 3: ì½”ë“œì—ì„œ ì‚¬ìš©

```java
// lookmarket-domain/src/main/java/.../User.java
package com.lookmarket.domain.user;

public class User {
    private Long id;
    private String email;
    // ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
}

// lookmarket-domain/src/main/java/.../UserRepository.java (í¬íŠ¸)
package com.lookmarket.domain.user;

public interface UserRepository {  // ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜
    User save(User user);
    Optional<User> findById(Long id);
}
```

```java
// lookmarket-infrastructure/src/main/java/.../JpaUserRepository.java
package com.lookmarket.infrastructure.user;

import com.lookmarket.domain.user.User;  // domain ëª¨ë“ˆ ì°¸ì¡° ê°€ëŠ¥!
import com.lookmarket.domain.user.UserRepository;  // í¬íŠ¸ ì¸í„°í˜ì´ìŠ¤

@Repository
public interface JpaUserRepository
    extends JpaRepository<User, Long>, UserRepository {
    // Domainì˜ UserRepository ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
}
```

```java
// lookmarket-api/src/main/java/.../UserController.java
package com.lookmarket.api.user;

import com.lookmarket.domain.user.User;  // domain ëª¨ë“ˆ ì°¸ì¡°
import com.lookmarket.application.user.UserService;  // application ëª¨ë“ˆ ì°¸ì¡°

@RestController
@RequestMapping("/api/v1/users")
public class UserController {

    private final UserService userService;

    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody UserRequest request) {
        User user = userService.createUser(request);
        return ResponseEntity.ok(user);
    }
}
```

---

## ì‹¤ì œ ë™ì‘ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: Domainì—ì„œ Infrastructure ì°¸ì¡° ì‹œë„ (ì‹¤íŒ¨)

```java
// lookmarket-domain/.../Order.java
package com.lookmarket.domain.order;

import com.lookmarket.infrastructure.order.JpaOrderRepository;
// âŒ ì»´íŒŒì¼ ì—ëŸ¬!
// error: package com.lookmarket.infrastructure.order does not exist
```

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Compilation failure: package com.lookmarket.infrastructure.order does not exist
```

**ì´ìœ **: `lookmarket-domain/build.gradle`ì— infrastructure ì˜ì¡´ì„±ì´ ì—†ìŒ

**í•´ê²°**: Domainì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤(í¬íŠ¸)ë§Œ ì •ì˜í•˜ê³ , Infrastructureì—ì„œ êµ¬í˜„

```java
// lookmarket-domain/.../OrderRepository.java (ì¸í„°í˜ì´ìŠ¤)
package com.lookmarket.domain.order;

public interface OrderRepository {
    Order save(Order order);
}

// lookmarket-infrastructure/.../JpaOrderRepository.java (êµ¬í˜„)
package com.lookmarket.infrastructure.order;

import com.lookmarket.domain.order.OrderRepository;

@Repository
public interface JpaOrderRepository
    extends JpaRepository<Order, Long>, OrderRepository {
}
```

### ì˜ˆì‹œ 2: Infrastructureì—ì„œ Domain ì°¸ì¡° (ì„±ê³µ)

```java
// lookmarket-infrastructure/.../JpaOrderRepository.java
package com.lookmarket.infrastructure.order;

import com.lookmarket.domain.order.Order;  // âœ… ì •ìƒ ë™ì‘!

@Repository
public interface JpaOrderRepository extends JpaRepository<Order, Long> {
}
```

**ì´ìœ **: `lookmarket-infrastructure/build.gradle`ì— domain ì˜ì¡´ì„± ìˆìŒ

### ì˜ˆì‹œ 3: APIì—ì„œ ëª¨ë“  ëª¨ë“ˆ ì°¸ì¡° (ì„±ê³µ)

```java
// lookmarket-api/.../OrderController.java
package com.lookmarket.api.order;

import com.lookmarket.domain.order.Order;  // âœ…
import com.lookmarket.application.order.OrderService;  // âœ…
import com.lookmarket.infrastructure.order.JpaOrderRepository;  // âœ…

@RestController
public class OrderController {
    // ëª¨ë‘ ì •ìƒ ë™ì‘!
}
```

**ì´ìœ **: api ëª¨ë“ˆì€ ìµœìƒìœ„ ë ˆì´ì–´ë¡œ ëª¨ë“  ëª¨ë“ˆ ì˜ì¡´ì„± ë³´ìœ 

---

## ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡°

### í˜„ì¬ LookMarket í”„ë¡œì íŠ¸

```
lookmarket/
â”œâ”€â”€ settings.gradle              # ëª¨ë“ˆ ë“±ë¡
â”œâ”€â”€ build.gradle                 # ê³µí†µ ì„¤ì • (Java 21, Lombok ë“±)
â”‚
â”œâ”€â”€ lookmarket-domain/           # ëª¨ë“ˆ 1: ë„ë©”ì¸
â”‚   â”œâ”€â”€ build.gradle             # ì˜ì¡´ì„±: commonë§Œ
â”‚   â””â”€â”€ src/main/java/
â”‚       â””â”€â”€ com/lookmarket/domain/
â”‚           â”œâ”€â”€ user/
â”‚           â”‚   â”œâ”€â”€ User.java
â”‚           â”‚   â””â”€â”€ UserRepository.java (ì¸í„°í˜ì´ìŠ¤)
â”‚           â”œâ”€â”€ order/
â”‚           â””â”€â”€ product/
â”‚
â”œâ”€â”€ lookmarket-infrastructure/   # ëª¨ë“ˆ 2: ì¸í”„ë¼
â”‚   â”œâ”€â”€ build.gradle             # ì˜ì¡´ì„±: common, domain, JPA, Kafka, Redis
â”‚   â””â”€â”€ src/main/java/
â”‚       â””â”€â”€ com/lookmarket/infrastructure/
â”‚           â”œâ”€â”€ user/
â”‚           â”‚   â””â”€â”€ JpaUserRepository.java
â”‚           â”œâ”€â”€ kafka/
â”‚           â””â”€â”€ redis/
â”‚
â”œâ”€â”€ lookmarket-application/      # ëª¨ë“ˆ 3: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ build.gradle             # ì˜ì¡´ì„±: common, domain
â”‚   â””â”€â”€ src/main/java/
â”‚       â””â”€â”€ com/lookmarket/application/
â”‚           â”œâ”€â”€ user/
â”‚           â”‚   â””â”€â”€ UserService.java
â”‚           â””â”€â”€ order/
â”‚
â”œâ”€â”€ lookmarket-api/              # ëª¨ë“ˆ 4: API (ì‹¤í–‰ ê°€ëŠ¥)
â”‚   â”œâ”€â”€ build.gradle             # ì˜ì¡´ì„±: ëª¨ë“  ëª¨ë“ˆ
â”‚   â””â”€â”€ src/main/java/
â”‚       â””â”€â”€ com/lookmarket/api/
â”‚           â”œâ”€â”€ LookMarketApplication.java  # @SpringBootApplication
â”‚           â””â”€â”€ user/
â”‚               â””â”€â”€ UserController.java
â”‚
â””â”€â”€ lookmarket-common/           # ëª¨ë“ˆ 5: ê³µí†µ
    â”œâ”€â”€ build.gradle             # ì˜ì¡´ì„±: ì—†ìŒ (ìµœí•˜ìœ„)
    â””â”€â”€ src/main/java/
        â””â”€â”€ com/lookmarket/common/
            â””â”€â”€ util/
```

### ì‹¤í–‰ ë°©ë²•

```bash
# API ëª¨ë“ˆë§Œ ì‹¤í–‰ (Spring Boot Application)
./gradlew :lookmarket-api:bootRun

# ì „ì²´ ë¹Œë“œ
./gradlew build

# íŠ¹ì • ëª¨ë“ˆë§Œ ë¹Œë“œ
./gradlew :lookmarket-domain:build
./gradlew :lookmarket-infrastructure:build

# íŠ¹ì • ëª¨ë“ˆë§Œ í…ŒìŠ¤íŠ¸
./gradlew :lookmarket-domain:test
```

### ë¹Œë“œ ê²°ê³¼ë¬¼

```
lookmarket/
â”œâ”€â”€ lookmarket-domain/build/libs/
â”‚   â””â”€â”€ lookmarket-domain-0.0.1-SNAPSHOT.jar
â”œâ”€â”€ lookmarket-infrastructure/build/libs/
â”‚   â””â”€â”€ lookmarket-infrastructure-0.0.1-SNAPSHOT.jar
â”œâ”€â”€ lookmarket-application/build/libs/
â”‚   â””â”€â”€ lookmarket-application-0.0.1-SNAPSHOT.jar
â”œâ”€â”€ lookmarket-api/build/libs/
â”‚   â””â”€â”€ lookmarket-api-0.0.1-SNAPSHOT.jar  (ì‹¤í–‰ ê°€ëŠ¥í•œ JAR)
â””â”€â”€ lookmarket-common/build/libs/
    â””â”€â”€ lookmarket-common-0.0.1-SNAPSHOT.jar
```

**ì‹¤í–‰**:
```bash
java -jar lookmarket-api/build/libs/lookmarket-api-0.0.1-SNAPSHOT.jar
```

---

## ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: Spring Framework ìì²´ë„ ë©€í‹° ëª¨ë“ˆ!

```
spring-framework/
â”œâ”€â”€ spring-core/       # í•µì‹¬ ê¸°ëŠ¥
â”œâ”€â”€ spring-beans/      # Bean ê´€ë¦¬
â”œâ”€â”€ spring-context/    # ApplicationContext
â”œâ”€â”€ spring-web/        # ì›¹ ê¸°ëŠ¥
â”œâ”€â”€ spring-webmvc/     # Spring MVC
â”œâ”€â”€ spring-data-jpa/   # JPA ì§€ì›
â””â”€â”€ ...
```

**ì‚¬ìš© ì‹œ**:
```gradle
dependencies {
    implementation 'org.springframework:spring-webmvc:6.1.0'
    // spring-webmvcê°€ ë‚´ë¶€ì ìœ¼ë¡œ spring-web, spring-context ë“±ì„ ì˜ì¡´í•¨
}
```

**ì˜ì¡´ì„± ì²´ì¸**:
```
spring-webmvc
  â””â”€ spring-web
      â””â”€ spring-context
          â””â”€ spring-core
```

### ì˜ˆì‹œ 2: ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ (Netflix ìŠ¤íƒ€ì¼)

```
netflix-platform/
â”œâ”€â”€ common-domain/     # ê³µí†µ ë„ë©”ì¸ (ì¬ì‚¬ìš©)
â”œâ”€â”€ common-infra/      # ê³µí†µ ì¸í”„ë¼ (ì¬ì‚¬ìš©)
â”œâ”€â”€ api-gateway/       # API Gateway
â”œâ”€â”€ user-service/      # User ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ user-domain/
â”‚   â”œâ”€â”€ user-application/
â”‚   â””â”€â”€ user-api/
â””â”€â”€ order-service/     # Order ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
    â”œâ”€â”€ order-domain/
    â”œâ”€â”€ order-application/
    â””â”€â”€ order-api/
```

**ì¥ì **:
- common-domainì„ ëª¨ë“  ì„œë¹„ìŠ¤ì—ì„œ ì¬ì‚¬ìš©
- ê° ì„œë¹„ìŠ¤ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ì‰½ê²Œ ì „í™˜

---

## ë¹„êµ í‘œ

| ë¹„êµ í•­ëª© | í´ë” êµ¬ë¶„ | ë©€í‹° ëª¨ë“ˆ |
|---------|---------|----------|
| **ì˜ì¡´ì„± ì œì–´** | âŒ ë¶ˆê°€ëŠ¥ (ê°œë°œì ì‹ ë¢°) | âœ… ê°€ëŠ¥ (ë¹Œë“œ ì‹œìŠ¤í…œ ê°•ì œ) |
| **ë¹Œë“œ ì‹œê°„** | âŒ í•­ìƒ ì „ì²´ ë¹Œë“œ | âœ… ë³€ê²½ëœ ëª¨ë“ˆë§Œ ë¹Œë“œ |
| **ëª¨ë“ˆ ì¬ì‚¬ìš©** | âŒ ì–´ë ¤ì›€ | âœ… ì‰¬ì›€ (Maven/Gradle ë°°í¬) |
| **ì•„í‚¤í…ì²˜ ê°•ì œ** | âŒ ë¶ˆê°€ëŠ¥ | âœ… ê°€ëŠ¥ (ì»´íŒŒì¼ ì—ëŸ¬) |
| **í…ŒìŠ¤íŠ¸ ê²©ë¦¬** | âŒ ì–´ë ¤ì›€ | âœ… ì‰¬ì›€ (ëª¨ë“ˆë³„ ì‹¤í–‰) |
| **ì´ˆê¸° ì„¤ì •** | âœ… ê°„ë‹¨ | âŒ ë³µì¡ |
| **í•™ìŠµ ê³¡ì„ ** | âœ… ë‚®ìŒ | âŒ ë†’ìŒ |
| **ì í•©í•œ í”„ë¡œì íŠ¸** | ì†Œê·œëª¨ (1~2ëª…) | ì¤‘ëŒ€í˜• (3ëª… ì´ìƒ) |
| **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜** | âŒ ì–´ë ¤ì›€ | âœ… ì‰¬ì›€ |

---

## ê²°ë¡ 

### LookMarket í”„ë¡œì íŠ¸ì—ì„œ ë©€í‹° ëª¨ë“ˆì„ ì„ íƒí•œ ì´ìœ :

1. **í¬íŠ¸í´ë¦¬ì˜¤ ëª©ì ** - ëŒ€ê¸°ì—… ë°±ì—”ë“œ ê°œë°œìì—ê²Œ ì–´í•„í•˜ê¸° ìœ„í•´ ê³ ê¸‰ ì•„í‚¤í…ì²˜ ì‚¬ìš©
2. **Hexagonal Architecture ê°•ì œ** - Domainì´ Infrastructureì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ë³´ì¥
3. **í…ŒìŠ¤íŠ¸ ê²©ë¦¬** - Domain ë¡œì§ì„ DB/Kafka ì—†ì´ ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸
4. **ì‹¤ë¬´ ê²½í—˜** - ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
5. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¤€ë¹„** - ë‚˜ì¤‘ì— ëª¨ë“ˆì„ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬ ìš©ì´
6. **ê¸°ìˆ ë ¥ ì¦ëª…** - ë‹¨ìˆœ CRUDê°€ ì•„ë‹Œ ì„¤ê³„ ì—­ëŸ‰ ì–´í•„

### ì–¸ì œ ë©€í‹° ëª¨ë“ˆì„ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜?

**ë©€í‹° ëª¨ë“ˆ ì¶”ì²œ**:
- âœ… íŒ€ í”„ë¡œì íŠ¸ (3ëª… ì´ìƒ)
- âœ… ì¥ê¸° ìœ ì§€ë³´ìˆ˜ ì˜ˆì •
- âœ… ì•„í‚¤í…ì²˜ ê°•ì œ í•„ìš”
- âœ… í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ (ê¸°ìˆ ë ¥ ì–´í•„)
- âœ… ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ ê³„íš

**í´ë” êµ¬ë¶„ ì¶”ì²œ**:
- âœ… 1~2ëª… ì†Œê·œëª¨ í”„ë¡œì íŠ¸
- âœ… ë‹¨ê¸° í”„ë¡œí† íƒ€ì…
- âœ… í•™ìŠµìš© í† ì´ í”„ë¡œì íŠ¸
- âœ… ë¹ ë¥¸ ê°œë°œì´ ìš°ì„ 

---

## ì°¸ê³  ìë£Œ

- [Gradle Multi-Project Builds](https://docs.gradle.org/current/userguide/multi_project_builds.html)
- [Spring Boot Multi-Module Project](https://spring.io/guides/gs/multi-module/)
- [Hexagonal Architecture](https://alistair.cockburn.us/hexagonal-architecture/)
- [Clean Architecture by Robert C. Martin](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)

---

**ì‘ì„±ì¼**: 2025-12-16
**ì‘ì„±ì**: LookMarket ê°œë°œíŒ€
**ë²„ì „**: 1.0
